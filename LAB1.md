# Лабораторна робота №1
## Виконала: Кепещук Соломія І0-41

---

## Тема:
Проєктування бази даних туристичної агенції з обліком турів, бронювань та додаткових послуг.
## Мета роботи:
Навчитися збирати та аналізувати вимоги зацікавлених сторін, визначати сутності, їх атрибути й зв’язки, а також розробляти концептуальну ER-діаграму як основу для подальшого проєктування реляційної бази даних у PostgreSQL.

---

## 1. Вимоги,які повинні виконуватися:

### Потреби зацікавлених сторін:
- **Клієнти:** перегляд доступних турів, оформлення бронювання, вибір додаткових послуг, здійснення оплати.
- **Адміністрація агенції:** створення та редагування турів, контроль бронювань, управління оплатами, призначення гідів, управління переліком послуг.

### Дані для зберігання
- персональні та контактні дані клієнтів;
- інформація про тури (країна та місто призначення, дати проведення, вартість, кількість доступних місць, тип туру);
- дані про бронювання;
- інформація про здійснені оплати;
- дані про гідів;
- додаткові послуги (страхування, транспортне обслуговування (перевезення туристів), екскурсії тощо).

### **Основні правила, яких варто дотримуватись** 
- Усі бронювання в системі створюються виключно для наявних клієнтів та не можуть існувати без прив’язки до облікового запису користувача.
- Кожен тур має заздалегідь визначену кількість доступних місць, яка враховується під час оформлення бронювань.
- Система дозволяє включати до бронювання додаткові послуги, що розширюють стандартний пакет туру.
- Одне бронювання може охоплювати кілька осіб та включати додаткові послуги (страхування, транспортне обслуговування (перевезення туристів), екскурсії).
- Кожна оплата здійснюється виключно в межах конкретного бронювання та фіксується в системі окремим записом.
- Для забезпечення якісного супроводу один тур може обслуговуватися кількома гідами, які залучаються до різних турів у межах агенції.

---

## 2. Діаграма ER.

---

## 3.Список сутностей та атрибутів.

### Customer (Клієнт)
- customer_id (PK): унікальний ідентифікатор клієнта.
- full_name: ПІБ клієнта.
- phone: номер телефону.
- email: електронна пошта.
- passport_no: номер документа (паспорт/ID).

### Tour (Тур)
- tour_id (PK): унікальний ідентифікатор туру.
- title: назва туру.
- destination_country: країна призначення.
- destination_city: місто призначення.
- start_date: дата початку туру.
- end_date: дата завершення туру.
- base_price: базова вартість туру.
- capacity: максимальна кількість місць.
- tour_type: тип туру (екскурсійний/пляжний/гірський тощо).

### Booking (Бронювання)
- booking_id (PK): унікальний ідентифікатор бронювання.
- customer_id (FK): ідентифікатор клієнта, який здійснив бронювання.
- tour_id (FK): ідентифікатор туру, що бронюється.
- booking_date: дата створення бронювання.
- persons_count: кількість осіб у бронюванні.
- status: статус бронювання (наприклад: нове, підтверджене, скасоване, завершене).

### Payment (Оплата)
- payment_id (PK): унікальний ідентифікатор платежу.
- booking_id (FK): ідентифікатор бронювання, яке оплачується.
- payment_date: дата платежу.
- amount: сума платежу.
- method: спосіб оплати (карткою, готівкою, банківським переказом).
- status: статус платежу (в очікуванні, оплачено, повернено).

### Guide (Гід)
- guide_id (PK): унікальний ідентифікатор гіда.
- full_name: ПІБ гіда.
- phone: номер телефону.
- languages: мови, якими володіє гід.
- experience_years: стаж роботи (роки).

### Service (Додаткова послуга)
- service_id (PK) унікальний ідентифікатор послуги.
- name: назва послуги (страхування/транспортне обслуговування (перевезення туристів)/екскурсія тощо).
- price: вартість послуги.
- description: стислий опис послуги.

### BookingService (Послуги в бронюванні)
- booking_id (FK): ідентифікатор бронювання.
- service_id (FK): ідентифікатор додаткової послуги.
- quantity: кількість одиниць додаткової послуги.
- PK:(booking_id, service_id)

### TourGuide (Призначення гіда на тур)
- tour_id (FK): ідентифікатор туру.
- guide_id (FK): ідентифікатор гіда.
- role: роль гіда (екскурсійний гід/ супроводжуючий гід).
- PK:(tour_id, guide_id)

---

## 4. Пояснення зв’язків
- Customer — Booking (1:N): один клієнт може створити багато бронювань.
- Tour — Booking (1:N): один тур може бути заброньований багато разів.
- Booking — Payment (1:N): одне бронювання може мати кілька оплат.
- Booking — Service (M:N через BookingService): до бронювання можуть додаватися кілька послуг.
- Tour — Guide (M:N через TourGuide): тур може супроводжуватися кількома гідами.

---

## 5. Припущення та обмеження
- Тур не може завершуватися раніше, ніж розпочинається.
- У кожному бронюванні повинна бути зазначена щонайменше одна особа.
- Кількість підтверджених учасників не може перевищувати встановлену місткість туру.
- Усі фінансові операції в системі здійснюються в межах однієї валюти.
- Оплата туру здійснюється одноразово в повному обсязі.
